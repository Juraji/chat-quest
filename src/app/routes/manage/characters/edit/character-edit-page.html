<form [formGroup]="formGroup" (submit)="onSubmit()">
  <div class="container">
    <div class="card mb-3">
      <div class="card-body d-flex justify-content-between align-items-center">
        <h1 class="character-name mb-0" [class.favorite]="isFavorite()">
          @if (isNew()) {
            <span>New Character</span>
          } @else {
            <span>{{ name() }}</span>
          }
        </h1>
        <div class="btn-toolbar gap-2">
          @if (!isNew()) {
            <button type="button" class="btn btn-outline-danger"
                    (click)="onDeleteCharacter()">Delete Character
            </button>
          }
          @if (!isNew() && formGroup.dirty) {
            <button type="button" class="btn btn-outline-secondary"
                    (click)="onRevertChanges()">Revert changes
            </button>
          }
          <button class="btn btn-primary btn-magical" [disabled]="formGroup.invalid || formGroup.pristine">Save
            Changes
          </button>
        </div>
      </div>
    </div>

    <div class="grid">
      <div class="g-col-12 g-col-lg-6 g-col-xl-4">
        <app-character-edit-base-information [parentForm]="formGroup"></app-character-edit-base-information>
      </div>
      @if (!isNew()) {
        <div class="g-col-12 g-col-lg-6 g-col-xl-8">
          <app-character-edit-extended-details [parentForm]="formGroup"></app-character-edit-extended-details>
        </div>
      }
    </div>
  </div>
</form>
