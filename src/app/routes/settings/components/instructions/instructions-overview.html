<div class="card">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center">
      <h5 class="mb-0">Instructions</h5>
      <div dropdown>
        <button type="button" class="btn btn-outline-primary" dropdownToggle>Add instruction</button>
        <ul class="mt-1" dropdownMenu>
          <li>
            <button type="button" class="dropdown-item"
                    routerLink="/settings/instruction-templates/new">New empty instruction
            </button>
          </li>
          <li><h5 class="dropdown-header">From a template:</h5></li>
          @for (it of instructionTemplates() | keyvalue; track it.key) {
            <button type="button" class="dropdown-item"
                    routerLink="/settings/instruction-templates/new"
                    [queryParams]="{defaultTemplateOption: it.key}">{{ it.value }}
            </button>
          }
        </ul>
      </div>
    </div>

    <table class="table">
      <thead>
      <tr>
        <th></th>
        <th></th>
        <th></th>
      </tr>
      </thead>
      <tbody>
        @if (instructionList() | empty) {
          <tr>
            <td colspan="2">No instruction templates defined.</td>
          </tr>
        }
        @for (instruction of instructionList(); track instruction.id) {
          <tr class="cursor-pointer" [routerLink]="['/settings/instruction-templates', instruction.id]">
            <td><span class="bi bi-terminal"></span>&nbsp;{{ instruction.name }}</td>
            <td class="text-muted">{{ instruction.type }}</td>
            <td>
              <div class="btn-toolbar justify-content-end gap-1">
                <button type="button" class="btn btn-sm btn-primary">
                  <span class="bi bi-pencil"></span>
                </button>
              </div>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
